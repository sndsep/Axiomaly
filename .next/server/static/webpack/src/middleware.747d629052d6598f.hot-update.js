"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/middleware */ \"(middleware)/./node_modules/next-auth/middleware.js\");\n/* harmony import */ var next_auth_middleware__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n// src/middleware.ts\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__.withAuth)(async function middleware(req) {\n    const { pathname } = req.nextUrl;\n    const token = req.nextauth.token;\n    // Public routes that should always be accessible\n    const publicRoutes = [\n        '/',\n        '/login',\n        '/register',\n        '/about',\n        '/pricing'\n    ];\n    if (publicRoutes.includes(pathname)) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n    }\n    // If user is authenticated but hasn't completed onboarding\n    if (token && !token.hasCompletedOnboarding && !pathname.startsWith('/onboarding')) {\n        // Don't redirect if already on a public route\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL('/onboarding/career-path', req.url));\n    }\n    // If user is authenticated and tries to access auth pages\n    if (token && (pathname.startsWith('/login') || pathname.startsWith('/register'))) {\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL('/dashboard', req.url));\n    }\n    // Add security headers\n    const response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n    response.headers.set('X-Content-Type-Options', 'nosniff');\n    response.headers.set('X-Frame-Options', 'DENY');\n    response.headers.set('X-XSS-Protection', '1; mode=block');\n    response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin');\n    return response;\n}, {\n    callbacks: {\n        authorized: ({ token, req })=>{\n            const { pathname } = req.nextUrl;\n            // Allow access to public paths without authentication\n            if (pathname === '/' || pathname.startsWith('/login') || pathname.startsWith('/register') || pathname.startsWith('/public')) {\n                return true;\n            }\n            // Require authentication for all other paths\n            return !!token;\n        }\n    }\n}));\nconst config = {\n    matcher: [\n        /*\n     * Match all request paths except:\n     * 1. /api routes\n     * 2. /_next (static files)\n     * 3. /favicon.ico (favicon file)\n     * 4. /public (public files)\n     */ '/((?!api|_next|favicon.ico|public).*)'\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDMkI7QUFDTDtBQUcxQyxpRUFBZUEsOERBQVFBLENBQ3JCLGVBQWVFLFdBQVdDLEdBQXdCO0lBQ2hELE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdELElBQUlFLE9BQU87SUFDaEMsTUFBTUMsUUFBUUgsSUFBSUksUUFBUSxDQUFDRCxLQUFLO0lBRWhDLGlEQUFpRDtJQUNqRCxNQUFNRSxlQUFlO1FBQUM7UUFBSztRQUFVO1FBQWE7UUFBVTtLQUFXO0lBQ3ZFLElBQUlBLGFBQWFDLFFBQVEsQ0FBQ0wsV0FBVztRQUNuQyxPQUFPSCxxREFBWUEsQ0FBQ1MsSUFBSTtJQUMxQjtJQUVBLDJEQUEyRDtJQUMzRCxJQUFJSixTQUFTLENBQUNBLE1BQU1LLHNCQUFzQixJQUFJLENBQUNQLFNBQVNRLFVBQVUsQ0FBQyxnQkFBZ0I7UUFDakYsOENBQThDO1FBQzlDLE9BQU9YLHFEQUFZQSxDQUFDWSxRQUFRLENBQUMsSUFBSUMsSUFBSSwyQkFBMkJYLElBQUlZLEdBQUc7SUFDekU7SUFFQSwwREFBMEQ7SUFDMUQsSUFBSVQsU0FBVUYsQ0FBQUEsU0FBU1EsVUFBVSxDQUFDLGFBQWFSLFNBQVNRLFVBQVUsQ0FBQyxZQUFXLEdBQUk7UUFDaEYsT0FBT1gscURBQVlBLENBQUNZLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLGNBQWNYLElBQUlZLEdBQUc7SUFDNUQ7SUFFQSx1QkFBdUI7SUFDdkIsTUFBTUMsV0FBV2YscURBQVlBLENBQUNTLElBQUk7SUFDbENNLFNBQVNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDBCQUEwQjtJQUMvQ0YsU0FBU0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CO0lBQ3hDRixTQUFTQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQkFBb0I7SUFDekNGLFNBQVNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1CQUFtQjtJQUV4QyxPQUFPRjtBQUNULEdBQ0E7SUFDRUcsV0FBVztRQUNUQyxZQUFZLENBQUMsRUFBRWQsS0FBSyxFQUFFSCxHQUFHLEVBQUU7WUFDekIsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR0QsSUFBSUUsT0FBTztZQUNoQyxzREFBc0Q7WUFDdEQsSUFBSUQsYUFBYSxPQUNiQSxTQUFTUSxVQUFVLENBQUMsYUFDcEJSLFNBQVNRLFVBQVUsQ0FBQyxnQkFDcEJSLFNBQVNRLFVBQVUsQ0FBQyxZQUFZO2dCQUNsQyxPQUFPO1lBQ1Q7WUFDQSw2Q0FBNkM7WUFDN0MsT0FBTyxDQUFDLENBQUNOO1FBQ1g7SUFDRjtBQUNGLElBQ0Q7QUFFTSxNQUFNZSxTQUFTO0lBQ3BCQyxTQUFTO1FBQ1A7Ozs7OztLQU1DLEdBQ0Q7S0FDRDtBQUNILEVBQUMiLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RvY2tEaXNrLzEwIFBST0pFQ1RTL2F4aW9tYWx5LW5ldy9zcmMvbWlkZGxld2FyZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbWlkZGxld2FyZS50c1xuaW1wb3J0IHsgd2l0aEF1dGggfSBmcm9tIFwibmV4dC1hdXRoL21pZGRsZXdhcmVcIlxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgdHlwZSB7IE5leHRSZXF1ZXN0V2l0aEF1dGggfSBmcm9tIFwibmV4dC1hdXRoL21pZGRsZXdhcmVcIlxuXG5leHBvcnQgZGVmYXVsdCB3aXRoQXV0aChcbiAgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXE6IE5leHRSZXF1ZXN0V2l0aEF1dGgpIHtcbiAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXEubmV4dFVybFxuICAgIGNvbnN0IHRva2VuID0gcmVxLm5leHRhdXRoLnRva2VuXG4gICAgXG4gICAgLy8gUHVibGljIHJvdXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgYWNjZXNzaWJsZVxuICAgIGNvbnN0IHB1YmxpY1JvdXRlcyA9IFsnLycsICcvbG9naW4nLCAnL3JlZ2lzdGVyJywgJy9hYm91dCcsICcvcHJpY2luZyddXG4gICAgaWYgKHB1YmxpY1JvdXRlcy5pbmNsdWRlcyhwYXRobmFtZSkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpXG4gICAgfVxuXG4gICAgLy8gSWYgdXNlciBpcyBhdXRoZW50aWNhdGVkIGJ1dCBoYXNuJ3QgY29tcGxldGVkIG9uYm9hcmRpbmdcbiAgICBpZiAodG9rZW4gJiYgIXRva2VuLmhhc0NvbXBsZXRlZE9uYm9hcmRpbmcgJiYgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9vbmJvYXJkaW5nJykpIHtcbiAgICAgIC8vIERvbid0IHJlZGlyZWN0IGlmIGFscmVhZHkgb24gYSBwdWJsaWMgcm91dGVcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL29uYm9hcmRpbmcvY2FyZWVyLXBhdGgnLCByZXEudXJsKSlcbiAgICB9XG5cbiAgICAvLyBJZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgYW5kIHRyaWVzIHRvIGFjY2VzcyBhdXRoIHBhZ2VzXG4gICAgaWYgKHRva2VuICYmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvbG9naW4nKSB8fCBwYXRobmFtZS5zdGFydHNXaXRoKCcvcmVnaXN0ZXInKSkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL2Rhc2hib2FyZCcsIHJlcS51cmwpKVxuICAgIH1cblxuICAgIC8vIEFkZCBzZWN1cml0eSBoZWFkZXJzXG4gICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UubmV4dCgpXG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtQ29udGVudC1UeXBlLU9wdGlvbnMnLCAnbm9zbmlmZicpXG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtRnJhbWUtT3B0aW9ucycsICdERU5ZJylcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1YU1MtUHJvdGVjdGlvbicsICcxOyBtb2RlPWJsb2NrJylcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnUmVmZXJyZXItUG9saWN5JywgJ3N0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4nKVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH0sXG4gIHtcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIGF1dGhvcml6ZWQ6ICh7IHRva2VuLCByZXEgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXEubmV4dFVybFxuICAgICAgICAvLyBBbGxvdyBhY2Nlc3MgdG8gcHVibGljIHBhdGhzIHdpdGhvdXQgYXV0aGVudGljYXRpb25cbiAgICAgICAgaWYgKHBhdGhuYW1lID09PSAnLycgfHwgXG4gICAgICAgICAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvbG9naW4nKSB8fCBcbiAgICAgICAgICAgIHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9yZWdpc3RlcicpIHx8XG4gICAgICAgICAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvcHVibGljJykpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlcXVpcmUgYXV0aGVudGljYXRpb24gZm9yIGFsbCBvdGhlciBwYXRoc1xuICAgICAgICByZXR1cm4gISF0b2tlblxuICAgICAgfSxcbiAgICB9LFxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIG1hdGNoZXI6IFtcbiAgICAvKlxuICAgICAqIE1hdGNoIGFsbCByZXF1ZXN0IHBhdGhzIGV4Y2VwdDpcbiAgICAgKiAxLiAvYXBpIHJvdXRlc1xuICAgICAqIDIuIC9fbmV4dCAoc3RhdGljIGZpbGVzKVxuICAgICAqIDMuIC9mYXZpY29uLmljbyAoZmF2aWNvbiBmaWxlKVxuICAgICAqIDQuIC9wdWJsaWMgKHB1YmxpYyBmaWxlcylcbiAgICAgKi9cbiAgICAnLygoPyFhcGl8X25leHR8ZmF2aWNvbi5pY298cHVibGljKS4qKScsXG4gIF0sXG59Il0sIm5hbWVzIjpbIndpdGhBdXRoIiwiTmV4dFJlc3BvbnNlIiwibWlkZGxld2FyZSIsInJlcSIsInBhdGhuYW1lIiwibmV4dFVybCIsInRva2VuIiwibmV4dGF1dGgiLCJwdWJsaWNSb3V0ZXMiLCJpbmNsdWRlcyIsIm5leHQiLCJoYXNDb21wbGV0ZWRPbmJvYXJkaW5nIiwic3RhcnRzV2l0aCIsInJlZGlyZWN0IiwiVVJMIiwidXJsIiwicmVzcG9uc2UiLCJoZWFkZXJzIiwic2V0IiwiY2FsbGJhY2tzIiwiYXV0aG9yaXplZCIsImNvbmZpZyIsIm1hdGNoZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});