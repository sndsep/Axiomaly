"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/middleware */ \"(middleware)/./node_modules/next-auth/middleware.js\");\n/* harmony import */ var next_auth_middleware__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n// src/middleware.ts\n// This file is used to handle the middleware for the application.  \n\n\nconst PUBLIC_PATHS = new Set([\n    '/',\n    '/login',\n    '/register',\n    '/about',\n    '/pricing'\n]);\nconst AUTH_PATHS = new Set([\n    '/login',\n    '/register'\n]);\nconst PROTECTED_PATHS = new Set([\n    '/dashboard',\n    '/profile',\n    '/settings'\n]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__.withAuth)(function middleware(req) {\n    const { pathname } = req.nextUrl;\n    const token = req.nextauth.token;\n    console.log('Middleware checking path:', pathname);\n    console.log('User token:', token);\n    // Create response with security headers\n    const response = next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n    response.headers.set('X-Content-Type-Options', 'nosniff');\n    response.headers.set('X-Frame-Options', 'DENY');\n    response.headers.set('X-XSS-Protection', '1; mode=block');\n    response.headers.set('Referrer-Policy', 'strict-origin-when-cross-origin');\n    // If user is accessing auth paths while logged in\n    if (token && AUTH_PATHS.has(pathname)) {\n        console.log('Authenticated user trying to access auth path, redirecting to dashboard');\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL('/dashboard', req.url));\n    }\n    // If user is authenticated\n    if (token) {\n        // If user hasn't completed onboarding and isn't on onboarding path\n        if (!token.hasCompletedOnboarding && !pathname.startsWith('/onboarding') && !pathname.startsWith('/api')) {\n            console.log('User needs onboarding, redirecting to career path');\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL('/onboarding/career-path', req.url));\n        }\n        // If user has completed onboarding but tries to access onboarding paths\n        if (token.hasCompletedOnboarding && pathname.startsWith('/onboarding')) {\n            console.log('Completed user trying to access onboarding, redirecting to dashboard');\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL('/dashboard', req.url));\n        }\n    }\n    // If user is not authenticated and tries to access protected routes\n    if (!token && PROTECTED_PATHS.has(pathname)) {\n        console.log('Unauthenticated user trying to access protected path, redirecting to login');\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL('/login', req.url));\n    }\n    return response;\n}, {\n    callbacks: {\n        authorized: ({ token, req })=>{\n            const { pathname } = req.nextUrl;\n            // Allow public paths without authentication\n            if (PUBLIC_PATHS.has(pathname)) {\n                return true;\n            }\n            // Allow onboarding paths with authentication\n            if (pathname.startsWith('/onboarding') && token) {\n                return true;\n            }\n            // Require authentication for protected paths\n            if (PROTECTED_PATHS.has(pathname)) {\n                return !!token;\n            }\n            // Default to true for other paths\n            return true;\n        }\n    }\n}));\nconst config = {\n    matcher: [\n        /*\n     * Match all request paths except:\n     * 1. /api routes\n     * 2. /_next (static files)\n     * 3. /favicon.ico (favicon file)\n     * 4. /public files\n     */ '/((?!api|_next/static|_next/image|favicon.ico|public).*)'\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Vm9sdW1lcy9Eb2NrRGlzay8xMCBQUk9KRUNUUy9heGlvbWFseS1uZXcvc3JjL21pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21pZGRsZXdhcmUudHNcblxuLy8gVGhpcyBmaWxlIGlzIHVzZWQgdG8gaGFuZGxlIHRoZSBtaWRkbGV3YXJlIGZvciB0aGUgYXBwbGljYXRpb24uICBcbmltcG9ydCB7IHdpdGhBdXRoIH0gZnJvbSBcIm5leHQtYXV0aC9taWRkbGV3YXJlXCI7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB0eXBlIHsgTmV4dFJlcXVlc3RXaXRoQXV0aCB9IGZyb20gXCJuZXh0LWF1dGgvbWlkZGxld2FyZVwiO1xuXG5jb25zdCBQVUJMSUNfUEFUSFMgPSBuZXcgU2V0KFsnLycsICcvbG9naW4nLCAnL3JlZ2lzdGVyJywgJy9hYm91dCcsICcvcHJpY2luZyddKTtcbmNvbnN0IEFVVEhfUEFUSFMgPSBuZXcgU2V0KFsnL2xvZ2luJywgJy9yZWdpc3RlciddKTtcbmNvbnN0IFBST1RFQ1RFRF9QQVRIUyA9IG5ldyBTZXQoWycvZGFzaGJvYXJkJywgJy9wcm9maWxlJywgJy9zZXR0aW5ncyddKTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aEF1dGgoXG4gIGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxOiBOZXh0UmVxdWVzdFdpdGhBdXRoKSB7XG4gICAgY29uc3QgeyBwYXRobmFtZSB9ID0gcmVxLm5leHRVcmw7XG4gICAgY29uc3QgdG9rZW4gPSByZXEubmV4dGF1dGgudG9rZW47XG4gICAgXG4gICAgY29uc29sZS5sb2coJ01pZGRsZXdhcmUgY2hlY2tpbmcgcGF0aDonLCBwYXRobmFtZSk7XG4gICAgY29uc29sZS5sb2coJ1VzZXIgdG9rZW46JywgdG9rZW4pO1xuXG4gICAgLy8gQ3JlYXRlIHJlc3BvbnNlIHdpdGggc2VjdXJpdHkgaGVhZGVyc1xuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoKTtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1Db250ZW50LVR5cGUtT3B0aW9ucycsICdub3NuaWZmJyk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtRnJhbWUtT3B0aW9ucycsICdERU5ZJyk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1gtWFNTLVByb3RlY3Rpb24nLCAnMTsgbW9kZT1ibG9jaycpO1xuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KCdSZWZlcnJlci1Qb2xpY3knLCAnc3RyaWN0LW9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbicpO1xuXG4gICAgLy8gSWYgdXNlciBpcyBhY2Nlc3NpbmcgYXV0aCBwYXRocyB3aGlsZSBsb2dnZWQgaW5cbiAgICBpZiAodG9rZW4gJiYgQVVUSF9QQVRIUy5oYXMocGF0aG5hbWUpKSB7XG4gICAgICBjb25zb2xlLmxvZygnQXV0aGVudGljYXRlZCB1c2VyIHRyeWluZyB0byBhY2Nlc3MgYXV0aCBwYXRoLCByZWRpcmVjdGluZyB0byBkYXNoYm9hcmQnKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL2Rhc2hib2FyZCcsIHJlcS51cmwpKTtcbiAgICB9XG5cbiAgICAvLyBJZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIC8vIElmIHVzZXIgaGFzbid0IGNvbXBsZXRlZCBvbmJvYXJkaW5nIGFuZCBpc24ndCBvbiBvbmJvYXJkaW5nIHBhdGhcbiAgICAgIGlmICghdG9rZW4uaGFzQ29tcGxldGVkT25ib2FyZGluZyAmJiBcbiAgICAgICAgICAhcGF0aG5hbWUuc3RhcnRzV2l0aCgnL29uYm9hcmRpbmcnKSAmJiBcbiAgICAgICAgICAhcGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FwaScpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIG5lZWRzIG9uYm9hcmRpbmcsIHJlZGlyZWN0aW5nIHRvIGNhcmVlciBwYXRoJyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL29uYm9hcmRpbmcvY2FyZWVyLXBhdGgnLCByZXEudXJsKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHVzZXIgaGFzIGNvbXBsZXRlZCBvbmJvYXJkaW5nIGJ1dCB0cmllcyB0byBhY2Nlc3Mgb25ib2FyZGluZyBwYXRoc1xuICAgICAgaWYgKHRva2VuLmhhc0NvbXBsZXRlZE9uYm9hcmRpbmcgJiYgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL29uYm9hcmRpbmcnKSkge1xuICAgICAgICBjb25zb2xlLmxvZygnQ29tcGxldGVkIHVzZXIgdHJ5aW5nIHRvIGFjY2VzcyBvbmJvYXJkaW5nLCByZWRpcmVjdGluZyB0byBkYXNoYm9hcmQnKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvZGFzaGJvYXJkJywgcmVxLnVybCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQgYW5kIHRyaWVzIHRvIGFjY2VzcyBwcm90ZWN0ZWQgcm91dGVzXG4gICAgaWYgKCF0b2tlbiAmJiBQUk9URUNURURfUEFUSFMuaGFzKHBhdGhuYW1lKSkge1xuICAgICAgY29uc29sZS5sb2coJ1VuYXV0aGVudGljYXRlZCB1c2VyIHRyeWluZyB0byBhY2Nlc3MgcHJvdGVjdGVkIHBhdGgsIHJlZGlyZWN0aW5nIHRvIGxvZ2luJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoJy9sb2dpbicsIHJlcS51cmwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sXG4gIHtcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIGF1dGhvcml6ZWQ6ICh7IHRva2VuLCByZXEgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXEubmV4dFVybDtcbiAgICAgICAgXG4gICAgICAgIC8vIEFsbG93IHB1YmxpYyBwYXRocyB3aXRob3V0IGF1dGhlbnRpY2F0aW9uXG4gICAgICAgIGlmIChQVUJMSUNfUEFUSFMuaGFzKHBhdGhuYW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbGxvdyBvbmJvYXJkaW5nIHBhdGhzIHdpdGggYXV0aGVudGljYXRpb25cbiAgICAgICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9vbmJvYXJkaW5nJykgJiYgdG9rZW4pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVxdWlyZSBhdXRoZW50aWNhdGlvbiBmb3IgcHJvdGVjdGVkIHBhdGhzXG4gICAgICAgIGlmIChQUk9URUNURURfUEFUSFMuaGFzKHBhdGhuYW1lKSkge1xuICAgICAgICAgIHJldHVybiAhIXRva2VuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBEZWZhdWx0IHRvIHRydWUgZm9yIG90aGVyIHBhdGhzXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSxcbiAgICB9LFxuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBtYXRjaGVyOiBbXG4gICAgLypcbiAgICAgKiBNYXRjaCBhbGwgcmVxdWVzdCBwYXRocyBleGNlcHQ6XG4gICAgICogMS4gL2FwaSByb3V0ZXNcbiAgICAgKiAyLiAvX25leHQgKHN0YXRpYyBmaWxlcylcbiAgICAgKiAzLiAvZmF2aWNvbi5pY28gKGZhdmljb24gZmlsZSlcbiAgICAgKiA0LiAvcHVibGljIGZpbGVzXG4gICAgICovXG4gICAgJy8oKD8hYXBpfF9uZXh0L3N0YXRpY3xfbmV4dC9pbWFnZXxmYXZpY29uLmljb3xwdWJsaWMpLiopJyxcbiAgXSxcbn07Il0sIm5hbWVzIjpbIndpdGhBdXRoIiwiTmV4dFJlc3BvbnNlIiwiUFVCTElDX1BBVEhTIiwiU2V0IiwiQVVUSF9QQVRIUyIsIlBST1RFQ1RFRF9QQVRIUyIsIm1pZGRsZXdhcmUiLCJyZXEiLCJwYXRobmFtZSIsIm5leHRVcmwiLCJ0b2tlbiIsIm5leHRhdXRoIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwibmV4dCIsImhlYWRlcnMiLCJzZXQiLCJoYXMiLCJyZWRpcmVjdCIsIlVSTCIsInVybCIsImhhc0NvbXBsZXRlZE9uYm9hcmRpbmciLCJzdGFydHNXaXRoIiwiY2FsbGJhY2tzIiwiYXV0aG9yaXplZCIsImNvbmZpZyIsIm1hdGNoZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});